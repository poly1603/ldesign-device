{"version":3,"file":"DeviceInfo.vue2.js","sources":["../../src/components/DeviceInfo.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport type { DeviceInfo, DeviceType, Orientation } from '@ldesign/device-core'\r\nimport { computed, getCurrentInstance, onMounted, onUnmounted, ref, watch } from 'vue'\r\nimport { useDevice } from '../composables/useDevice'\r\n\r\n/**\r\n * DeviceInfo ÁªÑ‰ª∂Â±ûÊÄßÂÆö‰πâ\r\n */\r\ninterface Props {\r\n  /** ÊòæÁ§∫Ê®°ÂºèÔºöcompactÔºàÁ¥ßÂáëÔºâÊàñ detailedÔºàËØ¶ÁªÜÔºâ */\r\n  mode?: 'compact' | 'detailed'\r\n  /** ÊòØÂê¶ÊòæÁ§∫Âà∑Êñ∞ÊåâÈíÆ */\r\n  showRefresh?: boolean\r\n  /** Ëá™Âä®Âà∑Êñ∞Èó¥ÈöîÔºàÊØ´ÁßíÔºâÔºå0 Ë°®Á§∫‰∏çËá™Âä®Âà∑Êñ∞ */\r\n  autoRefresh?: number\r\n  /** Ëá™ÂÆö‰πâÊ†∑ÂºèÁ±ªÂêç */\r\n  customClass?: string\r\n}\r\n\r\n/**\r\n * ÁªÑ‰ª∂‰∫ã‰ª∂ÂÆö‰πâ\r\n */\r\ninterface Emits {\r\n  /** ËÆæÂ§á‰ø°ÊÅØÊõ¥Êñ∞‰∫ã‰ª∂ */\r\n  (e: 'update', deviceInfo: DeviceInfo): void\r\n  /** Âà∑Êñ∞‰∫ã‰ª∂ */\r\n  (e: 'refresh'): void\r\n  /** ÈîôËØØ‰∫ã‰ª∂ */\r\n  (e: 'error', error: string): void\r\n}\r\n\r\n// ÂÆö‰πâ props Âíå emits\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  mode: 'detailed',\r\n  showRefresh: true,\r\n  autoRefresh: 0,\r\n})\r\n\r\nconst emit = defineEmits<Emits>()\r\n\r\n// ‰ΩøÁî®ËÆæÂ§áÊ£ÄÊµã composable\r\nconst { deviceInfo, refresh: refreshDevice } = useDevice()\r\n// ÂÖºÂÆπÊµãËØïÁéØÂ¢É‰∏≠‰º†ÂÖ•ÁöÑ‰º™ refÔºà‰ªÖÂåÖÂê´ value Â≠óÊÆµÔºâ\r\nconst info = computed<DeviceInfo | null>(() => {\r\n  const v: any = deviceInfo as any\r\n  if (v && typeof v === 'object' && 'value' in v)\r\n    return v.value as DeviceInfo | null\r\n  return v as DeviceInfo | null\r\n})\r\n\r\n// ÁªÑ‰ª∂Áä∂ÊÄÅÔºàÈªòËÆ§‰∏çÂä†ËΩΩÔºåÈô§ÈùûÊ≤°ÊúâÂèØÁî®ÁöÑËÆæÂ§á‰ø°ÊÅØÊàñÊâãÂä®Âà∑Êñ∞Ôºâ\r\nconst isLoading = ref(false)\r\nconst errorMessage = ref('')\r\n\r\n// ËÆ°ÁÆóÂ±ûÊÄß\r\nconst hasError = computed(() => !!errorMessage.value)\r\n\r\n// Ëá™Âä®Âà∑Êñ∞ÂÆöÊó∂Âô®\r\nlet autoRefreshTimer: number | null = null\r\n\r\n/**\r\n * Ëé∑ÂèñËÆæÂ§áÁ±ªÂûãÂõæÊ†á\r\n */\r\nfunction getDeviceIcon(type: DeviceType): string {\r\n  const icons = {\r\n    mobile: 'üì±',\r\n    tablet: 'üì±',\r\n    desktop: 'üíª',\r\n  }\r\n  return icons[type] || '‚ùì'\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñËÆæÂ§áÁ±ªÂûãÊñáÊú¨\r\n */\r\nfunction getDeviceTypeText(type: DeviceType): string {\r\n  const texts = {\r\n    mobile: 'ÁßªÂä®ËÆæÂ§á',\r\n    tablet: 'Âπ≥ÊùøËÆæÂ§á',\r\n    desktop: 'Ê°åÈù¢ËÆæÂ§á',\r\n  }\r\n  return texts[type] || 'Êú™Áü•ËÆæÂ§á'\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂ±èÂπïÊñπÂêëÊñáÊú¨\r\n */\r\nfunction getOrientationText(orientation: Orientation): string {\r\n  const texts = {\r\n    portrait: 'Á´ñÂ±è',\r\n    landscape: 'Ê®™Â±è',\r\n  }\r\n  return texts[orientation] || 'Êú™Áü•'\r\n}\r\n\r\n/**\r\n * Âà∑Êñ∞ËÆæÂ§á‰ø°ÊÅØ\r\n */\r\nasync function refresh() {\r\n  try {\r\n    isLoading.value = true\r\n    errorMessage.value = ''\r\n\r\n    await Promise.resolve(refreshDevice())\r\n\r\n    if (deviceInfo.value) {\r\n      emit('update', deviceInfo.value)\r\n    }\r\n\r\n    emit('refresh')\r\n  }\r\n  catch (error) {\r\n    const message = error instanceof Error ? error.message : 'Âà∑Êñ∞Â§±Ë¥•'\r\n    errorMessage.value = message\r\n    emit('error', message)\r\n  }\r\n  finally {\r\n    isLoading.value = false\r\n  }\r\n}\r\n\r\n/**\r\n * ËÆæÁΩÆËá™Âä®Âà∑Êñ∞\r\n */\r\nfunction setupAutoRefresh() {\r\n  if (props.autoRefresh > 0) {\r\n    autoRefreshTimer = window.setInterval(() => {\r\n      refresh()\r\n    }, props.autoRefresh)\r\n  }\r\n}\r\n\r\n/**\r\n * Ê∏ÖÁêÜËá™Âä®Âà∑Êñ∞\r\n */\r\nfunction clearAutoRefresh() {\r\n  if (autoRefreshTimer) {\r\n    clearInterval(autoRefreshTimer)\r\n    autoRefreshTimer = null\r\n  }\r\n}\r\n\r\n// ÁîüÂëΩÂë®Êúü\r\nonMounted(() => {\r\n  // Â¶ÇÊûúÂΩìÂâçÊ≤°ÊúâÂèØÁî®‰ø°ÊÅØÔºåÊòæÁ§∫Âä†ËΩΩÂç†‰Ωç\r\n  isLoading.value = !deviceInfo.value\r\n  setupAutoRefresh()\r\n})\r\n\r\n// ÁõëÂê¨ props ÂèòÂåñ\r\nwatch(() => props.autoRefresh, (newValue, oldValue) => {\r\n  if (newValue !== oldValue) {\r\n    clearAutoRefresh()\r\n    setupAutoRefresh()\r\n  }\r\n})\r\n\r\n// ÁªÑ‰ª∂Âç∏ËΩΩÊó∂Ê∏ÖÁêÜÂÆöÊó∂Âô®\r\nonUnmounted(() => {\r\n  clearAutoRefresh()\r\n})\r\n\r\n// ‰∏∫ÊµãËØïÂèãÂ•ΩÔºöÊö¥Èú≤ÁªÑÂêàÂºèÁä∂ÊÄÅÔºå‰æø‰∫é @vue/test-utils ÁöÑ setData / Áõ¥Êé•ËÆøÈóÆ\r\n// Ê≥®ÊÑèÔºödefineExpose ‰ªÖÊö¥Èú≤Â±ûÊÄßÔºå‰∏çÊîπÂèòÂÜÖÈÉ®ÂÆûÁé∞\r\ndefineExpose({\r\n  isLoading,\r\n  errorMessage,\r\n})\r\n\r\n// ÂÖºÂÆπÊüê‰∫õÊµãËØïÂ∑•ÂÖ∑ÂØπ setData ÁöÑÂÆûÁé∞ÔºöÂ∞ùËØïÂú®‰ª£ÁêÜ‰∏äÂÆö‰πâÂêåÂêçÂ±ûÊÄßÔºàÂ§±Ë¥•ÂàôÂøΩÁï•Ôºâ\r\nconst instance = getCurrentInstance()\r\nif (instance && instance.proxy) {\r\n  try {\r\n    Object.defineProperties(instance.proxy as any, {\r\n      isLoading: {\r\n        get: () => isLoading.value,\r\n        set: (v: boolean) => { isLoading.value = v },\r\n        configurable: true,\r\n        enumerable: true,\r\n      },\r\n      errorMessage: {\r\n        get: () => errorMessage.value,\r\n        set: (v: string) => { errorMessage.value = v },\r\n        configurable: true,\r\n        enumerable: true,\r\n      },\r\n    })\r\n  }\r\n  catch {}\r\n}\r\n\r\n// ÁõëÂê¨ËÆæÂ§á‰ø°ÊÅØÂèòÂåñ\r\nwatch(() => deviceInfo.value, (newInfo) => {\r\n  // Ê†πÊçÆËÆæÂ§á‰ø°ÊÅØÊòØÂê¶ÂèØÁî®Ëá™Âä®ÂàáÊç¢Âä†ËΩΩÁä∂ÊÄÅ\r\n  isLoading.value = !newInfo\r\n  if (newInfo) {\r\n    emit('update', newInfo)\r\n  }\r\n}, { deep: true })\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"device-info\" :class=\"[\r\n      `device-info--${mode}`,\r\n      `device-info--${info?.type || 'unknown'}`,\r\n      {\r\n        'device-info--loading': isLoading,\r\n        'device-info--error': hasError,\r\n      },\r\n    ]\"\r\n  >\r\n    <!-- Âä†ËΩΩÁä∂ÊÄÅ -->\r\n    <div v-if=\"isLoading\" class=\"device-info__loading\">\r\n      <div class=\"device-info__spinner\" />\r\n      <span>Ê≠£Âú®Ê£ÄÊµãËÆæÂ§á‰ø°ÊÅØ...</span>\r\n    </div>\r\n\r\n    <!-- ÈîôËØØÁä∂ÊÄÅ -->\r\n    <div v-else-if=\"hasError\" class=\"device-info__error\">\r\n      <div class=\"device-info__error-icon\">\r\n        ‚ö†Ô∏è\r\n      </div>\r\n      <div class=\"device-info__error-content\">\r\n        <h4>ËÆæÂ§á‰ø°ÊÅØËé∑ÂèñÂ§±Ë¥•</h4>\r\n        <p>{{ errorMessage }}</p>\r\n        <button class=\"device-info__retry-btn\" @click=\"refresh\">\r\n          ÈáçËØï\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ËÆæÂ§á‰ø°ÊÅØÂÜÖÂÆπ -->\r\n    <div v-else-if=\"info\" class=\"device-info__content\">\r\n      <!-- Á¥ßÂáëÊ®°Âºè -->\r\n      <template v-if=\"mode === 'compact'\">\r\n        <div class=\"device-info__compact\">\r\n          <div class=\"device-info__icon\">\r\n            {{ getDeviceIcon(info.type) }}\r\n          </div>\r\n          <div class=\"device-info__basic\">\r\n            <span class=\"device-info__type\">{{ getDeviceTypeText(info.type) }}</span>\r\n            <span class=\"device-info__size\">{{ info.screen?.width }}√ó{{ info.screen?.height }}</span>\r\n          </div>\r\n          <div v-if=\"showRefresh\" class=\"device-info__actions\">\r\n            <button class=\"device-info__refresh-btn\" title=\"Âà∑Êñ∞\" @click=\"refresh\">\r\n              üîÑ\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- ËØ¶ÁªÜÊ®°Âºè -->\r\n      <template v-else>\r\n        <div class=\"device-info__header\">\r\n          <div class=\"device-info__title\">\r\n            <span class=\"device-info__icon\">{{ getDeviceIcon(info.type) }}</span>\r\n            <h3>{{ getDeviceTypeText(info.type) }}</h3>\r\n          </div>\r\n          <button v-if=\"showRefresh\" class=\"device-info__refresh-btn\" @click=\"refresh\">\r\n            Âà∑Êñ∞\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"device-info__sections\">\r\n          <!-- Âü∫Êú¨‰ø°ÊÅØ -->\r\n          <div class=\"device-info__section\">\r\n            <h4>Âü∫Êú¨‰ø°ÊÅØ</h4>\r\n            <div class=\"device-info__grid\">\r\n              <div class=\"device-info__item\">\r\n                <label>ËÆæÂ§áÁ±ªÂûã</label>\r\n                <span>{{ getDeviceTypeText(info.type) }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>Â±èÂπïÊñπÂêë</label>\r\n                <span>{{ getOrientationText(info.orientation) }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>Ëß¶Êë∏ÊîØÊåÅ</label>\r\n                <span>{{ info.features?.touch ? 'ÊîØÊåÅ' : '‰∏çÊîØÊåÅ' }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Â±èÂπï‰ø°ÊÅØ -->\r\n          <div class=\"device-info__section\">\r\n            <h4>Â±èÂπï‰ø°ÊÅØ</h4>\r\n            <div class=\"device-info__grid\">\r\n              <div class=\"device-info__item\">\r\n                <label>ËßÜÂè£Â∞∫ÂØ∏</label>\r\n                <span>{{ info.screen?.width }}√ó{{ info.screen?.height }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>ËÆæÂ§áÂÉèÁ¥†ÊØî</label>\r\n                <span>{{ info.screen?.pixelRatio }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>ÂèØÁî®Â∞∫ÂØ∏</label>\r\n                <span>{{ info.screen?.availWidth }}√ó{{ info.screen?.availHeight }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- ÊµèËßàÂô®‰ø°ÊÅØ -->\r\n          <div class=\"device-info__section\">\r\n            <h4>ÊµèËßàÂô®‰ø°ÊÅØ</h4>\r\n            <div class=\"device-info__grid\">\r\n              <div class=\"device-info__item\">\r\n                <label>ÊµèËßàÂô®</label>\r\n                <span>{{ info.browser?.name }} {{ info.browser?.version }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>ÂºïÊìé</label>\r\n                <span>{{ info.browser?.engine }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Êìç‰ΩúÁ≥ªÁªü‰ø°ÊÅØ -->\r\n          <div class=\"device-info__section\">\r\n            <h4>Êìç‰ΩúÁ≥ªÁªü</h4>\r\n            <div class=\"device-info__grid\">\r\n              <div class=\"device-info__item\">\r\n                <label>Á≥ªÁªü</label>\r\n                <span>{{ info.os?.name }} {{ info.os?.version }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>Âπ≥Âè∞</label>\r\n                <span>{{ info.os?.platform }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </div>\r\n\r\n    <!-- Ëá™ÂÆö‰πâÊèíÊßΩ -->\r\n    <div v-if=\"$slots.default\" class=\"device-info__custom\">\r\n      <slot :device-info=\"info\" :refresh=\"refresh\" :is-loading=\"isLoading\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.device-info {\r\n  border: 1px solid #e1e5e9;\r\n  border-radius: 8px;\r\n  background: #ffffff;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n}\r\n\r\n.device-info--compact {\r\n  padding: 12px;\r\n}\r\n\r\n.device-info--detailed {\r\n  padding: 16px;\r\n}\r\n\r\n.device-info--loading {\r\n  opacity: 0.7;\r\n}\r\n\r\n/* Âä†ËΩΩÁä∂ÊÄÅ */\r\n.device-info__loading {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 32px;\r\n  color: #666;\r\n}\r\n\r\n.device-info__spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #e1e5e9;\r\n  border-top: 2px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-right: 8px;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* ÈîôËØØÁä∂ÊÄÅ */\r\n.device-info__error {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 16px;\r\n  color: #dc3545;\r\n}\r\n\r\n.device-info__error-icon {\r\n  font-size: 24px;\r\n  margin-right: 12px;\r\n}\r\n\r\n.device-info__error-content h4 {\r\n  margin: 0 0 4px 0;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n}\r\n\r\n.device-info__error-content p {\r\n  margin: 0 0 8px 0;\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n}\r\n\r\n.device-info__retry-btn {\r\n  padding: 4px 8px;\r\n  font-size: 12px;\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n/* Á¥ßÂáëÊ®°Âºè */\r\n.device-info__compact {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.device-info__icon {\r\n  font-size: 20px;\r\n}\r\n\r\n.device-info__basic {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.device-info__type {\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n}\r\n\r\n.device-info__size {\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n}\r\n\r\n/* ËØ¶ÁªÜÊ®°Âºè */\r\n.device-info__header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 16px;\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid #e1e5e9;\r\n}\r\n\r\n.device-info__title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.device-info__title h3 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n}\r\n\r\n.device-info__refresh-btn {\r\n  padding: 6px 12px;\r\n  font-size: 12px;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.device-info__refresh-btn:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n.device-info__sections {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.device-info__section h4 {\r\n  margin: 0 0 8px 0;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #495057;\r\n}\r\n\r\n.device-info__grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 8px;\r\n}\r\n\r\n.device-info__item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 8px;\r\n  background: #f8f9fa;\r\n  border-radius: 4px;\r\n}\r\n\r\n.device-info__item label {\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n}\r\n\r\n.device-info__item span {\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n}\r\n\r\n/* Ëá™ÂÆö‰πâÂÜÖÂÆπ */\r\n.device-info__custom {\r\n  margin-top: 16px;\r\n  padding-top: 16px;\r\n  border-top: 1px solid #e1e5e9;\r\n}\r\n\r\n/* ÂìçÂ∫îÂºèËÆæËÆ° */\r\n@media (max-width: 768px) {\r\n  .device-info__grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .device-info__header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 8px;\r\n  }\r\n}\r\n</style>\r\n"],"names":["props","__props","emit","__emit","deviceInfo","refresh","refreshDevice","useDevice","info","computed","v","value","isLoading","ref","errorMessage","hasError","autoRefreshTimer","getDeviceIcon","type","icons","mobile","tablet","desktop","getDeviceTypeText","texts","getOrientationText","orientation","portrait","landscape","Promise","resolve","error","message","Error","setupAutoRefresh","autoRefresh","window","setInterval","clearAutoRefresh","clearInterval","onMounted","watch","newValue","oldValue","onUnmounted","__expose","instance","getCurrentInstance","proxy","Object","defineProperties","get","set","configurable","enumerable","newInfo","deep"],"mappings":"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"}