{"version":3,"file":"DeviceInfo.vue2.js","sources":["../../../src/vue/components/DeviceInfo.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport type { DeviceInfo, DeviceType, Orientation } from '../../types'\r\nimport { computed, getCurrentInstance, onMounted, onUnmounted, ref, watch } from 'vue'\r\nimport { useDevice } from '../composables/useDevice'\r\n\r\n/**\r\n * DeviceInfo 组件属性定义\r\n */\r\ninterface Props {\r\n  /** 显示模式：compact（紧凑）或 detailed（详细） */\r\n  mode?: 'compact' | 'detailed'\r\n  /** 是否显示刷新按钮 */\r\n  showRefresh?: boolean\r\n  /** 自动刷新间隔（毫秒），0 表示不自动刷新 */\r\n  autoRefresh?: number\r\n  /** 自定义样式类名 */\r\n  customClass?: string\r\n}\r\n\r\n/**\r\n * 组件事件定义\r\n */\r\ninterface Emits {\r\n  /** 设备信息更新事件 */\r\n  (e: 'update', deviceInfo: DeviceInfo): void\r\n  /** 刷新事件 */\r\n  (e: 'refresh'): void\r\n  /** 错误事件 */\r\n  (e: 'error', error: string): void\r\n}\r\n\r\n// 定义 props 和 emits\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  mode: 'detailed',\r\n  showRefresh: true,\r\n  autoRefresh: 0,\r\n})\r\n\r\nconst emit = defineEmits<Emits>()\r\n\r\n// 使用设备检测 composable\r\nconst { deviceInfo, refresh: refreshDevice } = useDevice()\r\n// 兼容测试环境中传入的伪 ref（仅包含 value 字段）\r\nconst info = computed<DeviceInfo | null>(() => {\r\n  const v: any = deviceInfo as any\r\n  if (v && typeof v === 'object' && 'value' in v)\n    return v.value as DeviceInfo | null\r\n  return v as DeviceInfo | null\r\n})\r\n\r\n// 组件状态（默认不加载，除非没有可用的设备信息或手动刷新）\r\nconst isLoading = ref(false)\r\nconst errorMessage = ref('')\r\n\r\n// 计算属性\r\nconst hasError = computed(() => !!errorMessage.value)\r\n\r\n// 自动刷新定时器\r\nlet autoRefreshTimer: number | null = null\r\n\r\n/**\r\n * 获取设备类型图标\r\n */\r\nfunction getDeviceIcon(type: DeviceType): string {\r\n  const icons = {\r\n    mobile: '📱',\r\n    tablet: '📱',\r\n    desktop: '💻',\r\n  }\r\n  return icons[type] || '❓'\r\n}\r\n\r\n/**\r\n * 获取设备类型文本\r\n */\r\nfunction getDeviceTypeText(type: DeviceType): string {\r\n  const texts = {\r\n    mobile: '移动设备',\r\n    tablet: '平板设备',\r\n    desktop: '桌面设备',\r\n  }\r\n  return texts[type] || '未知设备'\r\n}\r\n\r\n/**\r\n * 获取屏幕方向文本\r\n */\r\nfunction getOrientationText(orientation: Orientation): string {\r\n  const texts = {\r\n    portrait: '竖屏',\r\n    landscape: '横屏',\r\n  }\r\n  return texts[orientation] || '未知'\r\n}\r\n\r\n/**\r\n * 刷新设备信息\r\n */\r\nasync function refresh() {\r\n  try {\r\n    isLoading.value = true\r\n    errorMessage.value = ''\r\n\r\n    await Promise.resolve(refreshDevice())\r\n\r\n    if (deviceInfo.value) {\r\n      emit('update', deviceInfo.value)\r\n    }\r\n\r\n    emit('refresh')\r\n  }\n  catch (error) {\r\n    const message = error instanceof Error ? error.message : '刷新失败'\r\n    errorMessage.value = message\r\n    emit('error', message)\r\n  }\n  finally {\r\n    isLoading.value = false\r\n  }\r\n}\r\n\r\n/**\r\n * 设置自动刷新\r\n */\r\nfunction setupAutoRefresh() {\r\n  if (props.autoRefresh > 0) {\r\n    autoRefreshTimer = window.setInterval(() => {\r\n      refresh()\r\n    }, props.autoRefresh)\r\n  }\r\n}\r\n\r\n/**\r\n * 清理自动刷新\r\n */\r\nfunction clearAutoRefresh() {\r\n  if (autoRefreshTimer) {\r\n    clearInterval(autoRefreshTimer)\r\n    autoRefreshTimer = null\r\n  }\r\n}\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n  // 如果当前没有可用信息，显示加载占位\r\n  isLoading.value = !deviceInfo.value\r\n  setupAutoRefresh()\r\n})\r\n\r\n// 监听 props 变化\r\nwatch(() => props.autoRefresh, (newValue, oldValue) => {\r\n  if (newValue !== oldValue) {\r\n    clearAutoRefresh()\r\n    setupAutoRefresh()\r\n  }\r\n})\r\n\r\n// 组件卸载时清理定时器\r\nonUnmounted(() => {\r\n  clearAutoRefresh()\r\n})\r\n\r\n// 为测试友好：暴露组合式状态，便于 @vue/test-utils 的 setData / 直接访问\r\n// 注意：defineExpose 仅暴露属性，不改变内部实现\r\ndefineExpose({\r\n  isLoading,\r\n  errorMessage,\r\n})\r\n\r\n// 兼容某些测试工具对 setData 的实现：尝试在代理上定义同名属性（失败则忽略）\r\nconst instance = getCurrentInstance()\r\nif (instance && instance.proxy) {\r\n  try {\r\n    Object.defineProperties(instance.proxy as any, {\r\n      isLoading: {\r\n        get: () => isLoading.value,\r\n        set: (v: boolean) => { isLoading.value = v },\r\n        configurable: true,\r\n        enumerable: true,\r\n      },\r\n      errorMessage: {\r\n        get: () => errorMessage.value,\r\n        set: (v: string) => { errorMessage.value = v },\r\n        configurable: true,\r\n        enumerable: true,\r\n      },\r\n    })\r\n  }\n  catch {}\r\n}\r\n\r\n// 监听设备信息变化\r\nwatch(() => deviceInfo.value, (newInfo) => {\r\n  // 根据设备信息是否可用自动切换加载状态\r\n  isLoading.value = !newInfo\r\n  if (newInfo) {\r\n    emit('update', newInfo)\r\n  }\r\n}, { deep: true })\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"device-info\" :class=\"[\r\n      `device-info--${mode}`,\r\n      `device-info--${info?.type || 'unknown'}`,\r\n      {\r\n        'device-info--loading': isLoading,\r\n        'device-info--error': hasError,\r\n      },\r\n    ]\"\r\n  >\r\n    <!-- 加载状态 -->\r\n    <div v-if=\"isLoading\" class=\"device-info__loading\">\r\n      <div class=\"device-info__spinner\" />\r\n      <span>正在检测设备信息...</span>\r\n    </div>\r\n\r\n    <!-- 错误状态 -->\r\n    <div v-else-if=\"hasError\" class=\"device-info__error\">\r\n      <div class=\"device-info__error-icon\">\n        ⚠️\n      </div>\r\n      <div class=\"device-info__error-content\">\r\n        <h4>设备信息获取失败</h4>\r\n        <p>{{ errorMessage }}</p>\r\n        <button class=\"device-info__retry-btn\" @click=\"refresh\">\r\n          重试\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 设备信息内容 -->\r\n    <div v-else-if=\"info\" class=\"device-info__content\">\r\n      <!-- 紧凑模式 -->\r\n      <template v-if=\"mode === 'compact'\">\r\n        <div class=\"device-info__compact\">\r\n          <div class=\"device-info__icon\">\r\n            {{ getDeviceIcon(info.type) }}\r\n          </div>\r\n          <div class=\"device-info__basic\">\r\n            <span class=\"device-info__type\">{{ getDeviceTypeText(info.type) }}</span>\r\n            <span class=\"device-info__size\">{{ info.screen?.width }}×{{ info.screen?.height }}</span>\r\n          </div>\r\n          <div v-if=\"showRefresh\" class=\"device-info__actions\">\r\n            <button class=\"device-info__refresh-btn\" title=\"刷新\" @click=\"refresh\">\r\n              🔄\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- 详细模式 -->\r\n      <template v-else>\r\n        <div class=\"device-info__header\">\r\n          <div class=\"device-info__title\">\r\n            <span class=\"device-info__icon\">{{ getDeviceIcon(info.type) }}</span>\r\n            <h3>{{ getDeviceTypeText(info.type) }}</h3>\r\n          </div>\r\n          <button v-if=\"showRefresh\" class=\"device-info__refresh-btn\" @click=\"refresh\">\r\n            刷新\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"device-info__sections\">\r\n          <!-- 基本信息 -->\r\n          <div class=\"device-info__section\">\r\n            <h4>基本信息</h4>\r\n            <div class=\"device-info__grid\">\r\n              <div class=\"device-info__item\">\r\n                <label>设备类型</label>\r\n                <span>{{ getDeviceTypeText(info.type) }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>屏幕方向</label>\r\n                <span>{{ getOrientationText(info.orientation) }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>触摸支持</label>\r\n                <span>{{ info.features?.touch ? '支持' : '不支持' }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 屏幕信息 -->\r\n          <div class=\"device-info__section\">\r\n            <h4>屏幕信息</h4>\r\n            <div class=\"device-info__grid\">\r\n              <div class=\"device-info__item\">\r\n                <label>视口尺寸</label>\r\n                <span>{{ info.screen?.width }}×{{ info.screen?.height }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>设备像素比</label>\r\n                <span>{{ info.screen?.pixelRatio }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>可用尺寸</label>\r\n                <span>{{ info.screen?.availWidth }}×{{ info.screen?.availHeight }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 浏览器信息 -->\r\n          <div class=\"device-info__section\">\r\n            <h4>浏览器信息</h4>\r\n            <div class=\"device-info__grid\">\r\n              <div class=\"device-info__item\">\r\n                <label>浏览器</label>\r\n                <span>{{ info.browser?.name }} {{ info.browser?.version }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>引擎</label>\r\n                <span>{{ info.browser?.engine }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 操作系统信息 -->\r\n          <div class=\"device-info__section\">\r\n            <h4>操作系统</h4>\r\n            <div class=\"device-info__grid\">\r\n              <div class=\"device-info__item\">\r\n                <label>系统</label>\r\n                <span>{{ info.os?.name }} {{ info.os?.version }}</span>\r\n              </div>\r\n              <div class=\"device-info__item\">\r\n                <label>平台</label>\r\n                <span>{{ info.os?.platform }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </div>\r\n\r\n    <!-- 自定义插槽 -->\r\n    <div v-if=\"$slots.default\" class=\"device-info__custom\">\r\n      <slot :device-info=\"info\" :refresh=\"refresh\" :is-loading=\"isLoading\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.device-info {\r\n  border: 1px solid #e1e5e9;\r\n  border-radius: 8px;\r\n  background: #ffffff;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n}\r\n\r\n.device-info--compact {\r\n  padding: 12px;\r\n}\r\n\r\n.device-info--detailed {\r\n  padding: 16px;\r\n}\r\n\r\n.device-info--loading {\r\n  opacity: 0.7;\r\n}\r\n\r\n/* 加载状态 */\r\n.device-info__loading {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 32px;\r\n  color: #666;\r\n}\r\n\r\n.device-info__spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #e1e5e9;\r\n  border-top: 2px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-right: 8px;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* 错误状态 */\r\n.device-info__error {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 16px;\r\n  color: #dc3545;\r\n}\r\n\r\n.device-info__error-icon {\r\n  font-size: 24px;\r\n  margin-right: 12px;\r\n}\r\n\r\n.device-info__error-content h4 {\r\n  margin: 0 0 4px 0;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n}\r\n\r\n.device-info__error-content p {\r\n  margin: 0 0 8px 0;\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n}\r\n\r\n.device-info__retry-btn {\r\n  padding: 4px 8px;\r\n  font-size: 12px;\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n/* 紧凑模式 */\r\n.device-info__compact {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.device-info__icon {\r\n  font-size: 20px;\r\n}\r\n\r\n.device-info__basic {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.device-info__type {\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n}\r\n\r\n.device-info__size {\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n}\r\n\r\n/* 详细模式 */\r\n.device-info__header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 16px;\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid #e1e5e9;\r\n}\r\n\r\n.device-info__title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.device-info__title h3 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n}\r\n\r\n.device-info__refresh-btn {\r\n  padding: 6px 12px;\r\n  font-size: 12px;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.device-info__refresh-btn:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n.device-info__sections {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.device-info__section h4 {\r\n  margin: 0 0 8px 0;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #495057;\r\n}\r\n\r\n.device-info__grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 8px;\r\n}\r\n\r\n.device-info__item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 8px;\r\n  background: #f8f9fa;\r\n  border-radius: 4px;\r\n}\r\n\r\n.device-info__item label {\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n}\r\n\r\n.device-info__item span {\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n}\r\n\r\n/* 自定义内容 */\r\n.device-info__custom {\r\n  margin-top: 16px;\r\n  padding-top: 16px;\r\n  border-top: 1px solid #e1e5e9;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .device-info__grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .device-info__header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 8px;\r\n  }\r\n}\r\n</style>\r\n"],"names":["props","__props","emit","__emit","deviceInfo","refresh","refreshDevice","useDevice","info","computed","v","value","isLoading","ref","errorMessage","hasError","autoRefreshTimer","getDeviceIcon","type","icons","mobile","tablet","desktop","getDeviceTypeText","texts","getOrientationText","orientation","portrait","landscape","Promise","resolve","error","message","Error","setupAutoRefresh","autoRefresh","window","setInterval","clearAutoRefresh","clearInterval","onMounted","watch","newValue","oldValue","onUnmounted","__expose","instance","getCurrentInstance","proxy","Object","defineProperties","get","set","configurable","enumerable","newInfo","deep","_createElementBlock","class","mode","_createCommentVNode","_openBlock","_hoisted_1","_cache","_createElementVNode","_Fragment","key","_hoisted_2","_hoisted_3","onClick","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","screen","width","height","showRefresh","_hoisted_10","title","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","features","touch","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","pixelRatio","_hoisted_24","availWidth","availHeight","_hoisted_25","_hoisted_26","_hoisted_27","browser","name","version","_hoisted_28","engine","_hoisted_29","_hoisted_30","_hoisted_31","os","_hoisted_32","platform","$slots","default","_hoisted_33","_renderSlot","_ctx"],"mappings":"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"}